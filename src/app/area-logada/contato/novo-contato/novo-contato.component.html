<div class="container pt-5">

    <div class="text-center mb-3">
        <div *ngIf="isLoading && !isError" class="spinner-border" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>

    <div class="text-center">
        <div *ngIf="isError">
            <h2>Deu erro :(</h2>
            <button class="btn btn-success mt-3" (click)="loadingContacts()">Tentar Novamente</button>
        </div>
    </div>

    <form [formGroup]="contatoForm" *ngIf="!isLoading && !isError">
        <div class="form-group">
            <label for="nome">Nome</label>
            <input type="text" class="form-control" id="nome" placeholder="Nome" formControlName="nome"
                [ngClass]="showError('nome') ? 'is-invalid' : ''">
        </div>

        <div class="form-group">
            <label for="cpf">CPF</label>
            <input type="text" class="form-control" id="cpf" placeholder="CPF" formControlName="cpf"
                [ngClass]="showError('cpf') ? 'is-invalid' : ''">
        </div>

        <!-- <div formGroupName="dadosBancarios"> -->
            <div class="form-group">
                <label for="banco">Banco</label>
                <input type="text" class="form-control" id="banco" placeholder="Banco" formControlName="banco"
                    [ngClass]="showError('dadosBancarios.banco') ? 'is-invalid' : ''">
            </div>

            <div class="form-group">
                <label for="ag">Agência</label>
                <input type="number" class="form-control" id="ag" placeholder="Agência" formControlName="ag"
                    [ngClass]="showError('dadosBancarios.ag') ? 'is-invalid' : ''">
            </div>

            <div class="form-group">
                <label for="cc">Conta Corrente</label>
                <input type="text" class="form-control" id="cc" placeholder="Conta Corrente" formControlName="cc"
                    [ngClass]="showError('dadosBancarios.cc') ? 'is-invalid' : ''">
            </div>
        <!-- </div> -->

        <button class="btn btn-success" (click)="onSubmit()">
            {{ isEditing() ? 'Salvar Contato' : 'Criar Contato'}}
        </button>
    </form>
</div>